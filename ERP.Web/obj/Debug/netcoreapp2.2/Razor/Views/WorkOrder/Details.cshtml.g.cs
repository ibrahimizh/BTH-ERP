#pragma checksum "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e2562cf37a32d5df9d1244d330ca32c48a61bbdb"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_WorkOrder_Details), @"mvc.1.0.view", @"/Views/WorkOrder/Details.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/WorkOrder/Details.cshtml", typeof(AspNetCore.Views_WorkOrder_Details))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\_ViewImports.cshtml"
using ERP.Web;

#line default
#line hidden
#line 2 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\_ViewImports.cshtml"
using ERP.Web.Models;

#line default
#line hidden
#line 3 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\_ViewImports.cshtml"
using ERP.Models;

#line default
#line hidden
#line 4 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\_ViewImports.cshtml"
using ERP.Models.Enums;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e2562cf37a32d5df9d1244d330ca32c48a61bbdb", @"/Views/WorkOrder/Details.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"be0fb84b3fa7568212f38bae63456c535fc95cf6", @"/Views/_ViewImports.cshtml")]
    public class Views_WorkOrder_Details : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WorkOrderVM>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("ddlWOStatus"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-control"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("ddlEmployee"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("txtDescription"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "1", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.SingleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "2", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.SingleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "3", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.SingleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "4", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.SingleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.TextAreaTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_TextAreaTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(20, 1820, true);
            WriteLiteral(@"
    <div class=""modal"" id=""confirmModal"">
        <div class=""modal-dialog"">
            <div class=""modal-content"">
                <div class=""modal-header"">
                    Confirmation
                </div>
                <div class=""modal-body"">
                    Are you sure to update the invoice?
                </div>
                <div class=""modal-footer"">
                    <button type=""button"" class=""btn btn-success btnYes"" data-dismiss=""modal"">Yes</button>
                    &nbsp;&nbsp;&nbsp;
                    <button type=""button"" class=""btn btn-danger btnNo"" data-dismiss=""modal"">No</button>
                </div>
            </div>
        </div>
    </div>

<!-- Print Modal -->
<div class=""modal fade"" id=""myModal"">
    <div class=""modal-dialog"">
        <div class=""modal-content"">

            <!-- Modal Header -->
            <div class=""modal-header"">
                <h4 class=""modal-title"">Modal Heading</h4>
                <button type=""button"" c");
            WriteLiteral(@"lass=""close"" data-dismiss=""modal"">&times;</button>
            </div>

            <!-- Modal body -->
            <div class=""modal-body"">
                <div id=""printDemo"">
                    <div class=""printWrapper"">
                        <div class=""printContent"">
                            <h2 class=""heading"">INVOICE إشعار دفع</h2>
                            <table class=""floatRight"">
                                <tr><td class=""lblInvoiceCustomerName""></td><td>&nbsp;</td><td> : </td><td>&nbsp;</td><td class=""textRight""> اسم العميل / Customer Name  </td></tr>
                                <tr><td class=""lblInvoiceAddress""></td><td>&nbsp;</td><td> : </td><td>&nbsp;</td><td class=""textRight"">العنوان / Address</td></tr>
                                <tr><td>");
            EndContext();
            BeginContext(1841, 32, false);
#line 41 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                   Write(DateTime.Now.ToShortDateString());

#line default
#line hidden
            EndContext();
            BeginContext(1873, 136, true);
            WriteLiteral("</td><td>&nbsp;</td><td> : </td><td>&nbsp;</td><td class=\"textRight\">التاريخ  / Date</td></tr>\r\n                                <tr><td>");
            EndContext();
            BeginContext(2010, 24, false);
#line 42 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                   Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
            EndContext();
            BeginContext(2034, 387, true);
            WriteLiteral(@"</td><td>&nbsp;</td><td> : </td><td>&nbsp;</td><td class=""textRight"">رقم الفاتورة /  Invoice number</td></tr>
                                <tr><td class=""lblInvoiceCustomerVAT""></td><td>&nbsp;</td><td> : </td><td>&nbsp;</td><td class=""textRight"">الرقم الضريبي للعميل / customer VAT  number</td></tr>
                                <tr><td><label class=""lblInvoiceCustomerPONumber"">");
            EndContext();
            BeginContext(2422, 38, false);
#line 44 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                             Write(Model.WorkOrderDetail.CustomerPONumber);

#line default
#line hidden
            EndContext();
            BeginContext(2460, 413, true);
            WriteLiteral(@"</label></td><td>&nbsp;</td><td> : </td><td>&nbsp;</td><td class=""textRight"">امر الشراء من العميل /customer PO number</td></tr>
                                
                            </table>
                            <div class=""clear"">&nbsp;</div>

                            <table class=""tableItems fullWidth"">
                                <thead>
                                    <tr>
");
            EndContext();
            BeginContext(3479, 2950, true);
            WriteLiteral(@"
                                        <th class=""tableCell"">
                                            <table class=""fullWidth"">
                                                <tr><td>الرقم</td></tr>
                                                <tr><td>SR.&nbsp;#</td></tr>
                                            </table>
                                        </th>
                                        <th class=""tableCell"">
                                            <table class=""fullWidth"">
                                                <tr><td>المادة</td></tr>
                                                <tr><td>ITEMS</td></tr>
                                            </table>
                                        </th>
                                        <th class=""tableCell"">
                                            <table class=""fullWidth"">
                                                <tr><td>البيان</td></tr>
                                           ");
            WriteLiteral(@"     <tr><td>SPECIFICATION</td></tr>
                                            </table>
                                        </th>
                                        <th class=""tableCell"">
                                            <table class=""fullWidth"">
                                                <tr><td>الكمية</td></tr>
                                                <tr><td>QTY</td></tr>
                                            </table>
                                        </th>
                                        <th class=""tableCell"">
                                            <table class=""fullWidth"">
                                                <tr><td>سعر&nbsp;الوحدة</td></tr>
                                                <tr><td>UNIT&nbsp;PRICE</td></tr>
                                            </table>
                                        </th>
                                        <th class=""tableCell"">
                                      ");
            WriteLiteral(@"      <table class=""fullWidth"">
                                                <tr><td>السعر&nbsp;الإجمالي</td></tr>
                                                <tr><td>PRICE</td></tr>
                                            </table>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id=""printInvoiceBody"" class=""printInvoiceBody""></tbody>
                            </table>
                            <p>&nbsp;</p>
                            <table>
                                <tr><td>بث الخليجية للدعاية والإعلان</td></tr>
                                <tr><td>BTH AL-KHALEJEYAH ADV. AGENCY</td></tr>
                                <tr><td>VAT Reg. #:300458553900003</td></tr>
                            </table>
                        </div>
");
            EndContext();
            BeginContext(6589, 1642, true);
            WriteLiteral(@"                        <table class=""fullWidth"">
                            <tbody>
                                <tr>
                                    <td class=""textWhite"">...................................</td>
                                    <td class=""textWhite"">...................................</td>
                                    <td>Sales</td>
                                    <td class=""textWhite"">...................</td>
                                    <td>Received By</td>
                                </tr>
                                <tr>
                                    <td class=""textWhite"">....................................</td>
                                    <td class=""textWhite"">....................................</td>
                                    <td>__________________</td>
                                    <td class=""textWhite"">...................</td>
                                    <td>__________________</td>
           ");
            WriteLiteral(@"                     </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Modal footer -->
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-danger"" data-dismiss=""modal"">Close</button>
            </div>

        </div>
    </div>
</div>


<div class=""card mb-3 shadow-lg rounded"">
    <div class=""card-header bg-info text-white"">
        <div class=""row"">
            <div class=""col-md-12"">
                <h4 class=""card-title"">Work Order - ");
            EndContext();
            BeginContext(8232, 24, false);
#line 146 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                               Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
            EndContext();
            BeginContext(8256, 1548, true);
            WriteLiteral(@"</h4>
            </div>
        </div>

        </div>
    <div class=""card-body"">
        <div class=""container-fluid"">
            <div class=""row"">
                <div class=""col-lg-8"">
                    <ul class=""nav nav-tabs"" role=""tablist"">
                        <li class=""nav-item"">
                            <a class=""nav-link active"" data-toggle=""tab"" href=""#divWorkOrderDetails"">Details</a>
                        </li>
                        <li class=""nav-item"">
                            <a id=""lnkBusinessPartner"" class=""nav-link"" data-toggle=""tab"" href=""#divBusinessPartner"">Customer Information</a>
                        </li>
                        <li class=""nav-item"">
                            <a id=""lnkBusinessPartnerContact"" class=""nav-link"" data-toggle=""tab"" href=""#divBusinessPartnerContact"">Contact Person</a>
                        </li>
                        <li class=""nav-item"">
                            <a id=""lnkInvoice"" class=""nav-link"" data-togg");
            WriteLiteral(@"le=""tab"" href=""#divInvoice"">Invoice</a>
                        </li>
                    </ul>

                    <!-- *********************************************** -->
                    <div class=""tab-content"">
                        <div id=""divWorkOrderDetails"" class=""tab-pane container active"">

                            <table class=""table table-condensed"">
                                <tr>
                                    <td><h6>Title</h6></td>
                                    <td>");
            EndContext();
            BeginContext(9805, 27, false);
#line 177 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                   Write(Model.WorkOrderDetail.Title);

#line default
#line hidden
            EndContext();
            BeginContext(9832, 191, true);
            WriteLiteral("</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><h6>Target Date</h6></td>\r\n                                    <td>");
            EndContext();
            BeginContext(10024, 32, false);
#line 181 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                   Write(Model.WorkOrderDetail.TargetDate);

#line default
#line hidden
            EndContext();
            BeginContext(10056, 46, true);
            WriteLiteral("</td>\r\n                                </tr>\r\n");
            EndContext();
#line 183 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                 if (!String.IsNullOrEmpty(Model.WorkOrderDetail.Description))
                                {

#line default
#line hidden
            BeginContext(10233, 157, true);
            WriteLiteral("                                    <tr>\r\n                                        <td><h6>Description</h6></td>\r\n                                        <td>");
            EndContext();
            BeginContext(10391, 33, false);
#line 187 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                       Write(Model.WorkOrderDetail.Description);

#line default
#line hidden
            EndContext();
            BeginContext(10424, 50, true);
            WriteLiteral("</td>\r\n                                    </tr>\r\n");
            EndContext();
#line 189 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                }

#line default
#line hidden
            BeginContext(10509, 2726, true);
            WriteLiteral(@"                                <tr>

                                    <td colspan=""2"">
                                        <div class=""card"">
                                            <div class=""card-body"">
                                                <table id=""tableInvoiceView"" class=""table"" style=""width:100%;"">
                                                    <thead class=""bgDefault"">
                                                        <tr>
                                                            <th></th>
                                                            <th style=""width: 10%;""><h6>الرقم</h6><h6>ITEM NO</h6></th>
                                                            <th style=""width: 25%;"">
                                                                <h6>المادة</h6><h6>ITEMS</h6>
                                                            </th>
                                                            <th style=""width: 35%;"">
                     ");
            WriteLiteral(@"                                           <h6>البيان</h6><h6>SPECIFICATION</h6>
                                                            </th>
                                                            <th style=""width: 10%;"">
                                                                <h6>الكمية</h6><h6>QTY</h6>
                                                            </th>
                                                            <th style=""width: 10%;"">
                                                                <h6>سعر الوحدة</h6><h6>UNIT PRICE</h6>
                                                            </th>
                                                            <th style=""width: 10%;"">
                                                                <h6>السعر الإجمالي</h6><h6>PRICE</h6>
                                                            </th>
                                                        </tr>
                                                    <");
            WriteLiteral(@"/thead>
                                                    <tbody class=""tbodyInvoiceView""></tbody>
                                                    <tfoot class=""bgGrayPale font-weight-bold"">
                                                        <tr>
                                                            <td colspan=""6"">Item Total</td>
                                                            <td class=""itemTotalView"">0.00</td>
                                                        </tr>
                                                        <tr class=""text-danger"">
                                                            <td colspan=""6"">VAT (");
            EndContext();
            BeginContext(13236, 25, false);
#line 224 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                            Write(Model.WorkOrderDetail.VAT);

#line default
#line hidden
            EndContext();
            BeginContext(13261, 1836, true);
            WriteLiteral(@"%)</td>
                                                            <td class=""invoiceVATView"">0.00</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan=""6"">Sub Total</td>
                                                            <td class=""invoiceSubTotalView"">0.00</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan=""6"">Discount</td>
                                                            <td class=""invoiceDiscountView"">0.00</td>
                                                        </tr>

                                                        <tr class=""bgGreenPale"">
                                                            <td colspan=""6"">Total</td>
                                           ");
            WriteLiteral(@"                 <td class=""invoiceTotalView"">0.00</td>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><h6>Invoiced Amount</h6></td>
                                    <td class=""tdInvoicedAmount""></td>
                                </tr>
                                <tr>
                                    <td><h6>Paid Amount</h6></td>
                                    <td><span id=""lblPaidAmount"">");
            EndContext();
            BeginContext(15098, 32, false);
#line 252 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                            Write(Model.WorkOrderDetail.PaidAmount);

#line default
#line hidden
            EndContext();
            BeginContext(15130, 458, true);
            WriteLiteral(@"</span></td>
                                </tr>
                                <tr>
                                    <td><h6>Balance Amount</h6></td>
                                    <td class=""tdBalanceAmount""></td>
                                </tr>
                                <tr>
                                    <td><h6>Status</h6></td>
                                    <td>
                                        <!-- ");
            EndContext();
#line 261 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                              if(Model.WorkOrderDetail.StatusId!=WorkOrderStatus.Completed)
                {

#line default
#line hidden
            BeginContext(15671, 103, true);
            WriteLiteral("                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        ");
            EndContext();
            BeginContext(15774, 168, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("select", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb25744", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
#line 265 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items = Html.GetEnumSelectList<WorkOrderStatus>();

#line default
#line hidden
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-items", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
#line 266 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.For = ModelExpressionProvider.CreateModelExpression(ViewData, __model => Model.WorkOrderDetail.StatusId);

#line default
#line hidden
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-for", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.For, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(15942, 236, true);
            WriteLiteral("\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <button id=\"btnUpdateWOStatus\" class=\"btn btn-primary\" type=\"button\">Update</button>\r\n                    </div>\r\n                </div>\r\n");
            EndContext();
#line 272 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                }
                else{
                    

#line default
#line hidden
            BeginContext(16241, 30, false);
#line 274 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
               Write(Model.WorkOrderDetail.StatusId);

#line default
#line hidden
            EndContext();
#line 274 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                   
                }

#line default
#line hidden
            BeginContext(16290, 53, true);
            WriteLiteral(" -->\r\n                                        <label>");
            EndContext();
            BeginContext(16344, 30, false);
#line 276 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                          Write(Model.WorkOrderDetail.StatusId);

#line default
#line hidden
            EndContext();
            BeginContext(16374, 43, true);
            WriteLiteral("</label><span>&nbsp;&nbsp;&nbsp;</span>\r\n\r\n");
            EndContext();
#line 278 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                         switch (Model.WorkOrderDetail.StatusId)
                                        {
                                            case WorkOrderStatus.Draft:

#line default
#line hidden
            BeginContext(16615, 121, true);
            WriteLiteral("                                                <button id=\"btnCreateWorkOrder\" class=\"btn btn-primary\">Create</button>\r\n");
            EndContext();
#line 282 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                break;
                                            case WorkOrderStatus.Created:

#line default
#line hidden
            BeginContext(16867, 125, true);
            WriteLiteral("                                                <button id=\"btnCompleteWorkOrder\" class=\"btn btn-success\">Complete</button>\r\n");
            EndContext();
#line 285 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                break;

                                        }

#line default
#line hidden
            BeginContext(17093, 2214, true);
            WriteLiteral(@"

                                    </td>
                                </tr>
                                <tr>
                                    <td colspan=""2"">
                                        <div id=""alertWOErrorMessage"" class=""alert alert-danger hide""></div>
                                    </td>
                                </tr>
                            </table>
                            <div class=""row""><p>&nbsp;</p></div>
                            <div class=""row"">
                                <div class=""col-md-6"">
                                    <table class=""table table-bordered"">
                                        <thead>
                                            <tr class=""bg-light"">
                                                <th>Event Type</th>
                                                <th>Date/Time</th>
                                                <th>Added By</th>
                                            </tr>
  ");
            WriteLiteral(@"                                      </thead>
                                        <tbody class=""tbodyEvents""></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id=""divBusinessPartner"" class=""tab-pane container fade"">
                            <table id=""tableBusinessPartner"" class=""table table-condensed"">
                                <tbody></tbody>

                            </table>
                        </div>
                        <div id=""divBusinessPartnerContact"" class=""tab-pane container fade"">
                            <table id=""tableBusinessPartnerContact"" class=""table table-condensed"">
                                <tbody></tbody>
                            </table>
                        </div>
                        <div id=""divInvoice"" class=""tab-pane container fade"">
                            <p>&nbsp;</p>
         ");
            WriteLiteral("                   <section id=\"Invoice_Details\">\r\n                                <div class=\"card\">\r\n                                    <div class=\"card-header\">\r\n");
            EndContext();
#line 330 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                         if (Model.WorkOrderDetail.StatusId != WorkOrderStatus.Draft)
                                        {

#line default
#line hidden
            BeginContext(19453, 221, true);
            WriteLiteral("                                            <button id=\"btnPrintModal\" type=\"button\" class=\"btn btn-success\">\r\n                                                Print\r\n                                            </button>\r\n");
            EndContext();
#line 335 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                        }

#line default
#line hidden
            BeginContext(19717, 4218, true);
            WriteLiteral(@"                                    </div>
                                    <div class=""card-body"">
                                        <div class=""container-fluid"">
                                            <div class=""row"">
                                                <div class=""col-md-12"">
                                                    <table id=""tableInvoice"" class=""table"" style=""width:100%;"">
                                                        <thead class=""bgDefault"">
                                                            <tr>
                                                                <th></th>
                                                                <th style=""width: 10%;""><h6>الرقم</h6><h6>SR. #</h6></th>
                                                                <th style=""width: 25%;"">
                                                                    <h6>المادة</h6><h6>ITEMS</h6>
                                                               ");
            WriteLiteral(@" </th>
                                                                <th style=""width: 35%;"">
                                                                    <h6>البيان</h6><h6>SPECIFICATION</h6>
                                                                </th>
                                                                <th style=""width: 10%;"">
                                                                    <h6>الكمية</h6><h6>QTY</h6>
                                                                </th>
                                                                <th style=""width: 10%;"">
                                                                    <h6>سعر الوحدة</h6><h6>UNIT PRICE</h6>
                                                                </th>
                                                                <th style=""width: 10%;"">
                                                                    <h6>السعر الإجمالي</h6><h6>PRICE</h6>
                        ");
            WriteLiteral(@"                                        </th>
                                                            </tr>
                                                            <tr class=""bgGrayPale"">
                                                                <td></td>
                                                                <td></td>
                                                                <td><input type=""text"" class=""form-control txtNewInvoiceItem"" /><span class=""text-danger rqdInvoiceItem hide"">Required</span></td>
                                                                <td><textarea class=""form-control txtNewInvoiceSpecification""></textarea><span class=""text-danger rqdInvoiceSpecification hide"">Required</span></td>
                                                                <td><input type=""text"" class=""form-control txtNewInvoiceQuantity textBoxSmall"" /><span class=""text-danger rqdInvoiceQuantity hide"">Required</span></td>
                                                ");
            WriteLiteral(@"                <td><input type=""text"" class=""form-control txtNewInvoiceUnitPrice textBoxMedium"" /><span class=""text-danger rqdInvoiceUnitPrice hide"">Required</span></td>
                                                                <td><button type=""button"" class=""btn btn-info btnAddInvoiceItem"">Add</button></td>
                                                            </tr>
                                                        </thead>
                                                        <tbody class=""tbodyInvoice""></tbody>
                                                        <tfoot class=""bgGrayPale font-weight-bold"">
                                                            <tr>
                                                                <td colspan=""6"">Item Total</td>
                                                                <td class=""itemTotal"">0.00</td>
                                                            </tr>
                                                 ");
            WriteLiteral("           <tr class=\"text-danger\">\r\n                                                                <td colspan=\"6\">VAT (");
            EndContext();
            BeginContext(23936, 25, false);
#line 379 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                                Write(Model.WorkOrderDetail.VAT);

#line default
#line hidden
            EndContext();
            BeginContext(23961, 1297, true);
            WriteLiteral(@"%)</td>
                                                                <td class=""invoiceVAT"">0.00</td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan=""6"">Sub Total</td>
                                                                <td class=""invoiceSubTotal"">0.00</td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan=""6"">Discount</td>
                                                                <td><input type=""number"" class=""form-control txtDiscountPrice textBoxMedium"" /></td>
                                                            </tr>

                                                            <tr class=""bgGreenPale"">
                                                    ");
            WriteLiteral(@"            <td colspan=""6"">Total</td>
                                                                <td class=""invoiceTotal"">0.00</td>
                                                            </tr>
                                                        </tfoot>
");
            EndContext();
            BeginContext(26027, 1338, true);
            WriteLiteral(@"                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div>
                                        </div>
                                    </div>
                                    <div class=""card-footer"">
                                        <button type=""button"" class=""btn btn-success btnUpdateInvoice"">Save</button>
                                        <div class=""row updateSuccess hide"">
                                            <div class=""alert alert-success"">Quote updated !</div>
                                        </div>
                                        <p>&nbsp;</p>
                                    </div>
                                    <div class=""card-footer"">
                                        <table class=""ta");
            WriteLiteral(@"ble table-borderless"">
                                            <tr>
                                                <td><label>Customer PO Number<span class=""text-danger"">*</span> : </label></td>
                                                <td><input type=""text"" class=""form-control txtCustomerPONumber""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 27365, "\"", 27412, 1);
#line 434 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
WriteAttributeValue("", 27373, Model.WorkOrderDetail.CustomerPONumber, 27373, 39, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(27413, 633, true);
            WriteLiteral(@" /></td>
                                                <td><button type=""button"" class=""btn btn-info btnSetCustomerPONumber"">Update</button></td>
                                                <td><label class=""text-danger hide reqCustomerPONumber"">Required</label></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </section>
                            <p>&nbsp;</p>                            
                        </div>
                    </div>
");
            EndContext();
#line 445 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     if (Model.WorkOrderDetail.StatusId != WorkOrderStatus.Draft)
                    {


#line default
#line hidden
            BeginContext(28154, 531, true);
            WriteLiteral(@"                        <div class=""card mb-3 shadow-lg rounded"">
                            <div class=""card-header"">
                                <h4 class=""card-title"">Tasks</h4>
                            </div>
                            <div class=""card-body bgWhite"">
                                <div class=""container-fluid"">
                                    <div class=""row"">
                                        <div class=""col-md-7"">
                                            <div class=""row"">
");
            EndContext();
#line 457 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                 if (Model.WorkOrderDetail.StatusId != WorkOrderStatus.Completed &&(User.Claims.Single(c => c.Type == "features").Value.Contains("22") || User.Claims.Single(c => c.Type == "role").Value == "admin"))
                                                {

#line default
#line hidden
            BeginContext(28984, 268, true);
            WriteLiteral(@"                                                    <div class=""col-md-3"">
                                                        <button class=""btn btn-lg btn-success btnDisplayAddTask"">Add Task</button>
                                                    </div>
");
            EndContext();
#line 462 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                }

#line default
#line hidden
            BeginContext(29303, 1908, true);
            WriteLiteral(@"                                                <div class=""col-md-9"">
                                                    <div id=""alertTaskSuccess"" class=""alert alert-success hide""></div>
                                                </div>
                                            </div>
                                            <p>&nbsp;</p>

                                            <div class=""card text-white bgInfo1 mb-3 shadow-lg rounded hide divAddTask"">

                                                <div class=""card-header bgInfo"">
                                                    <h4 class=""card-title"">Add New Task</h4>
                                                </div>
                                                <div class=""card-body bgWhite"">
                                                    <div class=""container-fluid"">
                                                        <table class=""table table-condensed"">
                                                ");
            WriteLiteral(@"            <tr>
                                                                <td>Select Item</td>
                                                                <td>
                                                                    <ul class=""itemsListAddTask"" style=""list-style-type:none;"">
                                                                        
                                                                    </ul>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Assign Employee</td>
                                                                <td>
                                                                    ");
            EndContext();
            BeginContext(31211, 292, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("select", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb46419", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
#line 488 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.For = ModelExpressionProvider.CreateModelExpression(ViewData, __model => Model.CreateTaskVM.EmployeeId);

#line default
#line hidden
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-for", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.For, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
#line 489 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items = Model.CreateTaskVM.Employees;

#line default
#line hidden
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-items", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(31503, 360, true);
            WriteLiteral(@"
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Description</td>
                                                                <td>");
            EndContext();
            BeginContext(31863, 104, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("textarea", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb48918", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_TextAreaTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.TextAreaTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_TextAreaTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
#line 495 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_TextAreaTagHelper.For = ModelExpressionProvider.CreateModelExpression(ViewData, __model => Model.CreateTaskVM.Description);

#line default
#line hidden
            __tagHelperExecutionContext.AddTagHelperAttribute("asp-for", __Microsoft_AspNetCore_Mvc_TagHelpers_TextAreaTagHelper.For, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(31967, 2592, true);
            WriteLiteral(@"</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Target Date</td>
                                                                <td>
                                                                    <div class=""form-group"">
                                                                        <div class=""input-group date datetimepicker"" id=""datetimepicker1"" data-target-input=""nearest"">
                                                                            <input type=""text"" id=""targetDate"" name=""targetDate"" class=""form-control datetimepicker-input"" data-target=""#datetimepicker1"" />
                                                                            <div class=""input-group-append"" data-target=""#datetimepicker1"" data-toggle=""datetimepicker"">
                                                                                <div class");
            WriteLiteral(@"=""input-group-text""><i class=""fa fa-calendar""></i></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td><button id=""btnAddTask"" class=""btn btn-success"">Submit</button></td>
                                                                <td><button id=""btnCancelTask"" class=""btnCancelAddTask btn btn-default"">Cancel</button></td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                 ");
            WriteLiteral(@"               </div>
                                            </div>

                                            <div id=""divTasksList"">

                                            </div>


                                        </div>
                                        <div id=""divTaskDetails"" class=""col-md-5"">

                                        </div>
                                    </div>

                                </div>


                            </div>
                        </div>
");
            EndContext();
#line 535 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                    }

#line default
#line hidden
            BeginContext(34582, 144, true);
            WriteLiteral("                    <!-- *********************************************** -->\r\n                </div>\r\n\r\n                <div class=\"col-lg-4\">\r\n");
            EndContext();
#line 540 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     if (Model.WorkOrderDetail.StatusId != WorkOrderStatus.Draft)
                    {

#line default
#line hidden
            BeginContext(34832, 436, true);
            WriteLiteral(@"                        <div id=""divCustomerPayments"" class=""container-fluid"">

                            <div class=""card mb-3 shadow-lg rounded bg-light"">
                                <div class=""card-header bgInfo1 text-light"">
                                    <h4>CustomerPayments</h4>                                    
                                </div>
                                <div class=""card-body"">
");
            EndContext();
#line 549 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                     if (Model.WorkOrderDetail.PaidAmount != Model.WorkOrderDetail.InvoicedAmount &&(User.Claims.Single(c => c.Type == "features").Value.Contains("24") || User.Claims.Single(c => c.Type == "role").Value == "admin"))
                                    {

#line default
#line hidden
            BeginContext(35556, 288, true);
            WriteLiteral(@"                                        <div class=""form-group"">
                                            <label>Payment Menthod</label>
                                            <select id=""ddlPaymentOptions"" class=""form-control"">
                                                ");
            EndContext();
            BeginContext(35844, 31, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb55295", async() => {
                BeginContext(35862, 4, true);
                WriteLiteral("Cash");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_4.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(35875, 50, true);
            WriteLiteral("\r\n                                                ");
            EndContext();
            BeginContext(35925, 33, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb56722", async() => {
                BeginContext(35943, 6, true);
                WriteLiteral("Cheque");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_5.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(35958, 50, true);
            WriteLiteral("\r\n                                                ");
            EndContext();
            BeginContext(36008, 39, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb58151", async() => {
                BeginContext(36026, 12, true);
                WriteLiteral("BankTransfer");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_6.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_6);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(36047, 50, true);
            WriteLiteral("\r\n                                                ");
            EndContext();
            BeginContext(36097, 38, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e2562cf37a32d5df9d1244d330ca32c48a61bbdb59587", async() => {
                BeginContext(36115, 11, true);
                WriteLiteral("PointOfSale");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_7.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_7);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(36135, 967, true);
            WriteLiteral(@"
                                            </select>

                                        </div>
                                        <div class=""form-group"">
                                            <label>Amount</label>
                                            <input id=""txtCustomerPaymentAmount"" type=""number"" class=""form-control"" />
                                        </div>
                                        <div class=""form-group"">
                                            <label>Receipt Number</label>
                                            <input id=""txtCustomerPaymentReceiptNumber"" type=""text"" class=""form-control"" />
                                        </div>
                                        <div class=""form-group"">
                                            <input id=""btnAddCustomerPayment"" type=""button"" class=""btn btn-success"" value=""Save"">
                                        </div>
");
            EndContext();
#line 572 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                    }

#line default
#line hidden
            BeginContext(37141, 792, true);
            WriteLiteral(@"                                    <table class=""table tableCustomerPayments"">
                                        <thead>
                                            <tr>
                                                <th>Date/Time</th>
                                                <th>Amount</th>
                                                <th>Method</th>
                                                <th>Receipt Number</th>
                                            </tr>
                                        </thead>
                                        <tbody id=""tbodyCustomerPayments""></tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
");
            EndContext();
            BeginContext(37937, 428, true);
            WriteLiteral(@"                        <div id=""divMaterials"" class=""container-fluid"">

                            <div class=""card mb-3 shadow-lg rounded bg-light"">
                                <div class=""card-header bgInfo1 text-light"">
                                    <h4>Materials Usage</h4>                                    
                                </div>
                                <div class=""card-body"">
");
            EndContext();
#line 597 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                     if (Model.WorkOrderDetail.StatusId != WorkOrderStatus.Completed &&(User.Claims.Single(c => c.Type == "features").Value.Contains("27") || User.Claims.Single(c => c.Type == "role").Value == "admin"))
                                    {
                                        

#line default
#line hidden
            BeginContext(38929, 1107, true);
            WriteLiteral(@"                                        <div class=""form-group"">
                                            <label for=""autocomplete"">Select Material: </label>
                                            <input id=""autocomplete"" class=""form-control"">
                                            <input id=""selectedMaterial"" type=""hidden"" />
                                            <input id=""selectedMaterialName"" type=""hidden"" />
                                        </div>
                                        <div class=""form-group"">
                                            <label>Units used</label>
                                            <input id=""txtUnits"" type=""number"" class=""form-control"" />
                                        </div>
                                        <div class=""form-group"">
                                            <input id=""btnAddMaterialUsage"" type=""button"" class=""btn btn-success"" value=""Save"">
                                        </div>
   ");
            WriteLiteral("                                     <div id=\"divAddMaterialsErrorMessage\"></div>\r\n");
            EndContext();
#line 617 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                        
                                    }

#line default
#line hidden
            BeginContext(40117, 644, true);
            WriteLiteral(@"                                    <table class=""table tableMaterialsUse"">
                                        <thead>
                                            <tr>
                                                <th>Material</th>
                                                <th>Units</th>
                                            </tr>
                                        </thead>
                                        <tbody id=""tbodyMaterialsUse""></tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
");
            EndContext();
#line 632 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                    }

#line default
#line hidden
            BeginContext(40784, 86, true);
            WriteLiteral("                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(40887, 500, true);
                WriteLiteral(@"
    <script type=""text/javascript"">
        $(document).ready(function () {

            getTasks();
            getMaterials();
            getPayments();
            bindMaterialsDropdown();
            getBusinessPartnerDetails();
            getInvoice();
            getEvents();
            var discountPrice = 0;
            $(""#btnPrintModal"").click(function () {
                printInvoice();

                $.ajax({
                type: 'POST',
                url: '");
                EndContext();
                BeginContext(41388, 62, false);
#line 658 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                 Write(Url.Action("LogPrintEvent",new { id=Model.WorkOrderDetail.Id}));

#line default
#line hidden
                EndContext();
                BeginContext(41450, 1672, true);
                WriteLiteral(@"',
                contentType: ""application/json;""
            })
                .done(function (data) {
                    console.log(""Print Event Result: "" + JSON.stringify(data));
                });

            });

            function printInvoice() {
                printJS({ printable: 'printDemo', type: 'html', style: '.printContent{min-height:700px !important;}.floatRight{text-align:right !important;}.tableItems{text-align:center !important;}th{-webkit-print-color-adjust: exact;background-color:#EAEAEA;text-align:center !important;}.text-blue{color:blue;}.text-red{color:red;}.textWhite{color:transparent;}.tableItems{border-collapse: collapse;}.tableCell{border:2px solid black;padding:1px !important;}.centerHeading{width:200px;margin-left:auto;margin-right:auto;}.fullWidth{width:100% !important;}.printWrapper{padding-top:100px;}.heading{width:150px;text-align:center;color:black;border-bottom:3px solid black;padding-bottom:5px;margin-left:200px;margin-right:200px;}.clear{clear:both !imp");
                WriteLiteral(@"ortant;}.floatRight{float:right;clear:both;}.textRight{text-align:right;}' });

            }
            var materialsData = [];
            $(""#autocomplete"").autocomplete({                
                source: materialsData,
                select: function (event, ui) {
                    $(""#selectedMaterial"").val(ui.item.id);
                    $(""#selectedMaterialName"").val(ui.item.label);
                    console.log(ui.item.id);
                }
                
            });
            function bindMaterialsDropdown() {
                $.ajax({
                    type: 'GET',
                    url: '");
                EndContext();
                BeginContext(43123, 46, false);
#line 684 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     Write(Url.Action("GetMaterialsDropdown","Materials"));

#line default
#line hidden
                EndContext();
                BeginContext(43169, 567, true);
                WriteLiteral(@"'
                })
                    .done(function (data) {
                        $.each(data, function (index, value) {
                            //$(""#ddlMaterials"").append(""<option value='"" + value.value + ""'>"" + value.text + ""</option>"");
                            materialsData.push({""label"":value.text,""id"":value.value});
                        });
                        
                    });
            }



            function getTasks() {
                $.ajax({
                    type: 'GET',
                    url: '");
                EndContext();
                BeginContext(43737, 34, false);
#line 700 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     Write(Url.Action("GetTasks","WorkOrder"));

#line default
#line hidden
                EndContext();
                BeginContext(43771, 9, true);
                WriteLiteral("\' + \'/\' +");
                EndContext();
                BeginContext(43781, 24, false);
#line 700 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                 Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(43805, 406, true);
                WriteLiteral(@"
                })
                    .done(function (data) {
                        // show the response
                        if (data) {
                            $(""#divTasksList"").html(data);
                        }
                    });
            }


            function getMaterials() {
                $.ajax({
                    type: 'GET',
                    url: '");
                EndContext();
                BeginContext(44212, 38, false);
#line 714 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     Write(Url.Action("GetMaterials","WorkOrder"));

#line default
#line hidden
                EndContext();
                BeginContext(44250, 9, true);
                WriteLiteral("\' + \'/\' +");
                EndContext();
                BeginContext(44260, 24, false);
#line 714 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                     Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(44284, 965, true);
                WriteLiteral(@"
                })
                    .done(function (data) {
                        // show the response
                        if (data) {
                            $.each(data, function (index, value) {
                                console.log('Materials Used: ' + JSON.stringify(value));
                                $('#tbodyMaterialsUse').append(""<tr><td>"" + value.material + ""</td><td>"" + value.units + ""</td></tr>"");
                                $('.tableMaterialsUse').show();
                            });
                        } if (data.length === 0)  {
                            console.log('No materials used');
                            $('.tableMaterialsUse').hide();
                        }
                    });
            }


            function getPayments() {
                console.log('getting payments');
                $.ajax({
                    type: 'GET',
                    url: '");
                EndContext();
                BeginContext(45250, 45, false);
#line 736 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     Write(Url.Action("GetCustomerPayments","WorkOrder"));

#line default
#line hidden
                EndContext();
                BeginContext(45295, 9, true);
                WriteLiteral("\' + \'/\' +");
                EndContext();
                BeginContext(45305, 24, false);
#line 736 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                            Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(45329, 1054, true);
                WriteLiteral(@"
                })
                    .done(function (data) {
                        // show the response
                        console.log('payments data'+JSON.stringify(data));
                        if (data) {
                            $.each(data, function (index, value) {
                                console.log('Payments: ' + JSON.stringify(value));
                                $('#tbodyCustomerPayments').append(""<tr><td>"" + value.timestamp + ""</td><td>"" + value.amount + ""</td><td>"" + value.paymentTypeId + ""</td><td>"" + value.receiptNumber + ""</td></tr>"");
                                $('.tableCustomerPayments').show();
                            });
                        }
                        if (data.length === 0) {
                            console.log('no payments');
                            $('.tableCustomerPayments').hide();
                        }
                    });
            }

            function getBusinessPartnerDetails() {
         ");
                WriteLiteral("       let businessPartnerId =");
                EndContext();
                BeginContext(46384, 39, false);
#line 756 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                  Write(Model.WorkOrderDetail.BusinessPartnerId);

#line default
#line hidden
                EndContext();
                BeginContext(46423, 149, true);
                WriteLiteral("+0;\r\n                if (businessPartnerId > 0) {\r\n                    $.ajax({\r\n                        type: \'GET\',\r\n                        url: \'");
                EndContext();
                BeginContext(46573, 48, false);
#line 760 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("GetBusinessPartnerById","Proposals"));

#line default
#line hidden
                EndContext();
                BeginContext(46621, 1056, true);
                WriteLiteral(@"' + '/' + businessPartnerId
                    })
                        .done(function (data) {
                            if (data) {
                                console.log(JSON.stringify(data));
                                $('#tableBusinessPartner tbody').append(""<tr><td><h4>Name</h4></td><td>"" + data.name + ""</td></tr>"")
                                    .append(""<tr><td><h4>Address</h4></td><td>"" + data.address + ""</td></tr>"")
                                    .append(""<tr><td><h4>Email</h4></td><td>"" + data.emailId + ""</td></tr>"")
                                    .append(""<tr><td><h4>Phone</h4></td><td>"" + data.mobileNo + ""</td></tr>"");

                                //Set Invoice Data
                                $('.lblInvoiceCustomerName').html(data.name);
                                $('.lblInvoiceAddress').html(data.address);
                                $('.lblInvoiceCustomerVAT').html(data.vatNo);
                                
                      ");
                WriteLiteral("          let partnerContactId =");
                EndContext();
                BeginContext(47678, 46, false);
#line 775 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                 Write(Model.WorkOrderDetail.BusinessPartnerContactId);

#line default
#line hidden
                EndContext();
                BeginContext(47724, 2851, true);
                WriteLiteral(@" +0;
                                if (partnerContactId === 0) { $('#divBusinessPartnerContact').html('<div class=""alert alert-warning"">No Contacts added!</div>'); }
                                else {
                                    for (i = 0; i < data.contacts.length; i++) {
                                        if (data.contacts[i].id === partnerContactId) {
                                            $('#tableBusinessPartnerContact tbody').append(""<tr><td><h4>Name</h4></td><td>"" + data.contacts[i].name + ""</td></tr>"")
                                                .append(""<tr><td><h4>Email</h4></td><td>"" + data.contacts[i].email + ""</td></tr>"")
                                                .append(""<tr><td><h4>Phone</h4></td><td>"" + data.contacts[i].contactNo + ""</td></tr>"");
                                        }
                                    }
                                }

                            }
                        });
                }

         ");
                WriteLiteral(@"   };


            //*********************INVOICE***********************************************

            //Add Invoice Item()
            $("".btnAddInvoiceItem"").on(""click"", function () {
                let invoiceAddValidation = true;
                let valInvoiceItem = $("".txtNewInvoiceItem"").val().trim();
                let valInvoiceSpecification = $("".txtNewInvoiceSpecification"").val().trim();
                let valInvoiceQuantity = $("".txtNewInvoiceQuantity"").val().trim();
                let valInvoiceUnitPrice = $("".txtNewInvoiceUnitPrice"").val().trim();
                $('.rqdInvoiceItem').hide();
                $('.rqdInvoiceSpecification').hide();
                $('.rqdInvoiceQuantity').hide();
                $('.rqdInvoiceUnitPrice').hide();
                if (valInvoiceItem === '') {
                    $('.rqdInvoiceItem').show();
                    invoiceAddValidation = false;
                }
                if (!valInvoiceSpecification) {
                ");
                WriteLiteral(@"    $('.rqdInvoiceSpecification').show();
                    invoiceAddValidation = false;
                }
                if (!valInvoiceQuantity) {
                    $('.rqdInvoiceQuantity').show();
                    invoiceAddValidation = false;
                }
                if (!valInvoiceUnitPrice) {
                    $('.rqdInvoiceUnitPrice').show();
                    invoiceAddValidation = false;
                }


                if (invoiceAddValidation) {
                    
                    

                    console.log('valInvoiceUnitPrice: ' + valInvoiceUnitPrice);


                    var newInvoiceItem = {
                        ""id"":0,
                        ""lineNo"":invoiceItems.length+1,
                        ""workOrderId"":");
                EndContext();
                BeginContext(50576, 24, false);
#line 835 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                 Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(50600, 1569, true);
                WriteLiteral(@",
                        ""item"": valInvoiceItem,
                        ""specification"": valInvoiceSpecification,
                        ""quantity"": valInvoiceQuantity,
                        ""unitPrice"": valInvoiceUnitPrice,
                        ""lineTotal"": valInvoiceQuantity * valInvoiceUnitPrice,
                    };
                    invoiceItems.push(newInvoiceItem);
                    $('.tbodyInvoice').append(""<tr><td><button type='button' class='btn-link text-danger btnDeleteInvoiceItem' data-lineNo='"" + newInvoiceItem.lineNo + ""'>X</button></td><td>"" + newInvoiceItem.lineNo + ""</td><td><input type='text' class='form-control txtInvoiceItem' value='"" + newInvoiceItem.item + ""' /></td><td><input type='text' class='form-control txtInvoiceSpec' value='"" + newInvoiceItem.specification + ""' /></td><td><input type='text' class='form-control txtInvoiceQty txtInvoiceQty"" + newInvoiceItem.lineNo + ""' data-lineNo='"" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.quantity + ""' /></td>");
                WriteLiteral(@"<td><input type='text' class='form-control txtInvoiceUnitPrice txtInvoiceUnitPrice"" + newInvoiceItem.lineNo + ""' data-lineNo='"" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.unitPrice + ""' /></td><td><label id='lblLineTotal"" + newInvoiceItem.lineNo + ""' >"" + newInvoiceItem.lineTotal + ""</label></td></tr>"");

                    let updated_total = parseFloat($("".itemTotal"").html()) + newInvoiceItem.lineTotal;
                    $("".itemTotal"").html(updated_total.toFixed(2));
                    let updated_vat=(updated_total*");
                EndContext();
                BeginContext(52170, 25, false);
#line 847 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                              Write(Model.WorkOrderDetail.VAT);

#line default
#line hidden
                EndContext();
                BeginContext(52195, 980, true);
                WriteLiteral(@") / 100;
                $("".invoiceVAT"").html(updated_vat.toFixed(2));
                $("".invoiceSubTotal"").html((updated_total).toFixed(2));
                $("".invoiceTotal"").html(((updated_total + updated_vat) - parseFloat($("".txtDiscountPrice"").val())).toFixed(2));
                

                    resetAddInvoice();
                    }
            });           

            //Reset Add Invoice()
            function resetAddInvoice() {
                $("".txtNewInvoiceItem"").val('');
                $("".txtNewInvoiceSpecification"").val('');
                $("".txtNewInvoiceQuantity"").val('');
                $("".txtNewInvoiceUnitPrice"").val('');

                //calculateInvoiceTotal();

            }
            var invoiceItems = [];
            var invoiceDeletedItems = [];

            //Get Invoice()
            function getInvoice() {
                $.ajax({
                    type: 'GET',
                    url: '");
                EndContext();
                BeginContext(53176, 36, false);
#line 874 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     Write(Url.Action("GetInvoice","WorkOrder"));

#line default
#line hidden
                EndContext();
                BeginContext(53212, 9, true);
                WriteLiteral("\' + \'/\' +");
                EndContext();
                BeginContext(53222, 24, false);
#line 874 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                   Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(53246, 4107, true);
                WriteLiteral(@"
                })
                    .done(function (data) {
                        // show the response
                        if (data) {
                            console.log(JSON.stringify(data));
                            $('.tbodyInvoice').html('');
                            $('.tbodyInvoiceView').html('');
                            let invoiceItemsHTML = '';
                            let invoiceItemsViewHTML = '';
                            for (i = 0; i < data.items.length; i++) {
                                let newInvoiceItem = {
                                    ""id"":data.items[i].id,
                                    ""workOrderId"":data.items[i].workOrderId,
                                    ""lineNo"":i+1,
                                    ""item"": data.items[i].item,
                                    ""specification"": data.items[i].specification,
                                    ""quantity"": data.items[i].quantity,
                                    """);
                WriteLiteral(@"unitPrice"": data.items[i].unitPrice,
                                    ""lineTotal"": data.items[i].quantity*data.items[i].unitPrice
                                };
                                invoiceItems.push(newInvoiceItem);
                                //invoiceItemsHTML = invoiceItemsHTML + (""<tr><td><button type='button' class='btn-link text-danger btnDeleteInvoiceItem' data-lineNo='"" + newInvoiceItem.lineNo + ""'>X</button></td><td>"" + newInvoiceItem.lineNo + ""</td><td><input type='text' class='form-control txtInvoiceItem' value='"" + newInvoiceItem.item + ""' /></td><td><input type='text' class='form-control txtInvoiceSpec' value='"" + newInvoiceItem.specification + ""' /></td><td><input type='text' class='form-control txtInvoiceQty txtInvoiceQty"" + newInvoiceItem.lineNo + ""' data-lineNo='"" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.quantity + ""' /></td><td><input type='text' class='form-control txtInvoiceUnitPrice txtInvoiceUnitPrice"" + newInvoiceItem.lineNo + ""' data-lineNo='"" +");
                WriteLiteral(@" newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.unitPrice + ""' /></td><td><label id='lblLineTotal"" + newInvoiceItem.lineNo + ""' >"" + newInvoiceItem.lineTotal + ""</label></td></tr>"");
                                //invoiceItemsViewHTML=invoiceItemsViewHTML+(""<tr><td></td><td>"" + newInvoiceItem.lineNo + ""</td><td>"" + newInvoiceItem.item + ""</td><td>"" + newInvoiceItem.specification + ""</td><td>"" + newInvoiceItem.quantity + ""</td><td>"" + newInvoiceItem.unitPrice + ""</td><td>"" + newInvoiceItem.lineTotal + ""</td></tr>"");
                            }

                            //$('.tbodyInvoice').html(invoiceItemsHTML);
                            //$('.tbodyInvoiceView').html(invoiceItemsViewHTML);
                            discountPrice = data.discount;
                            populateInvoiceItems();
                            $("".itemTotalView"").html(data.subTotal.toFixed(2));
                            $("".invoiceSubTotalView"").html((data.subTotal+data.vat).toFixed(2));
           ");
                WriteLiteral(@"                 $("".txtDiscountPriceView"").val(data.discount.toFixed(2));
                            $("".invoiceVATView"").html(data.vat.toFixed(2));
                            $("".invoiceTotalView"").html(data.total.toFixed(2));
                            $("".invoiceDiscountView"").html(data.discount.toFixed(2));

                            printInvoiceModel.items = invoiceItems;
                            printInvoiceModel.lineTotal = data.subTotal.toFixed(2);
                            printInvoiceModel.subTotal = (data.subTotal).toFixed(2);
                            printInvoiceModel.discount = data.discount.toFixed(2);
                            printInvoiceModel.vat = data.vat.toFixed(2);
                            printInvoiceModel.total = ((data.subTotal+data.vat) - data.discount).toFixed(2);

                            setInvoiceDataForPrint(printInvoiceModel);

                            $("".tdInvoicedAmount"").html(printInvoiceModel.total);
                            let pa");
                WriteLiteral("idAmount = ");
                EndContext();
                BeginContext(57354, 32, false);
#line 921 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                        Write(Model.WorkOrderDetail.PaidAmount);

#line default
#line hidden
                EndContext();
                BeginContext(57386, 1482, true);
                WriteLiteral(@";
                            $("".tdBalanceAmount"").html((parseFloat(printInvoiceModel.total)-parseFloat(paidAmount)).toFixed(2));
                        }
                    });
            }

            function setInvoiceDataForPrint(data) {
                
                let printTableData = '';
                for (i = 0; i < data.items.length; i++) {
                                printTableData=printTableData+(""<tr><td class='tableCell'>"" + (parseInt(i) + 1) + ""</td><td class='tableCell'>"" + data.items[i].item + ""</td><td class='tableCell'>"" + data.items[i].specification + ""</td><td class='tableCell'>"" + data.items[i].quantity + ""</td><td class='tableCell'>"" + data.items[i].unitPrice + ""</td><td class='tableCell'>"" + data.items[i].lineTotal + ""</td></tr>"");                            
                                
                }
                $('#printInvoiceBody').html(printTableData);
                $('#printInvoiceBody').append(""<tfoot>"");
                $('#printInvoi");
                WriteLiteral(@"ceBody').append(""<tr><td colspan='4'>&nbsp;</td><td>Sub Total</td><td class='tableCell'>""+data.subTotal+""</td> </tr>"");
                if (parseFloat(data.discount) > 0) {
                    $('.printInvoiceBody').append('<tr><td colspan=""4"">&nbsp;</td><td>Discount</td><td class=""tableCell"">' + data.discount + '</td></tr>');
                }
                $('#printInvoiceBody').append('<tr class=""text-blue""><td colspan=""4"">&nbsp;</td><td>VAT ('+");
                EndContext();
                BeginContext(58869, 25, false);
#line 940 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                                                                      Write(Model.WorkOrderDetail.VAT);

#line default
#line hidden
                EndContext();
                BeginContext(58894, 827, true);
                WriteLiteral(@"+'%)</td><td class=""tableCell"">'+data.vat+'</td></tr>');
                $('#printInvoiceBody').append('<tr class=""text-red""><td colspan=""4"">&nbsp;</td><td>Total</td><td class=""tableCell"">'+data.total+'</td></tr>');
                $('#printInvoiceBody').append(""</tfoot>"");
            }
            var printInvoiceModel = {
                ""items"": [],
                ""lineTotal"":0,
                        ""subTotal"":0,
                        ""discount"":0,
                        ""vat"":0,
                        ""total"":0
            };
            function calculateInvoiceTotal() {
                let itemTotal = 0;
                invoiceItems.forEach(function (item) {
                  itemTotal += item.lineTotal;
                });
                
                let vatAmount = (itemTotal*");
                EndContext();
                BeginContext(59722, 25, false);
#line 958 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                      Write(Model.WorkOrderDetail.VAT);

#line default
#line hidden
                EndContext();
                BeginContext(59747, 7180, true);
                WriteLiteral(@") / 100;
                
                //let discount=$("".txtDiscountPrice"").val();
                let discount = discountPrice;
                
                //printInvoiceModel.lineTotal = itemTotal.toFixed(2);
                //printInvoiceModel.subTotal = (itemTotal+vatAmount).toFixed(2);
                //printInvoiceModel.discount = discount;
                //printInvoiceModel.vat = vatAmount.toFixed(2);
                //printInvoiceModel.total = ((itemTotal + vatAmount) - discount).toFixed(2);
                


                $("".txtDiscountPrice"").val(discountPrice);
                $("".itemTotal"").html(itemTotal.toFixed(2));
                $("".invoiceVAT"").html(vatAmount.toFixed(2));
                $("".invoiceSubTotal"").html((itemTotal + vatAmount).toFixed(2));
                $("".invoiceTotal"").html(((itemTotal + vatAmount) - discount).toFixed(2));
                $("".invoiceDiscount"").html(discount);

        }
        function populateInvoiceItems() {
           ");
                WriteLiteral(@" $('.tbodyInvoice').html('');
            $('.tbodyInvoiceView').html('');
            $('.itemsListAddTask').html('');
            invoiceItems.forEach(function (newInvoiceItem) {
                $('.tbodyInvoice').append(""<tr><td><button type='button' class='btn-link text-danger btnDeleteInvoiceItem' data-lineNo='"" + newInvoiceItem.lineNo + ""'>X</button></td><td>"" + newInvoiceItem.lineNo + ""</td><td><input type='text' class='form-control txtInvoiceItem' data-lineNo='""+  newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.item + ""' /></td><td><input type='text' class='form-control txtInvoiceSpec' data-lineNo='""+  newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.specification + ""' /></td><td><input type='text' class='form-control txtInvoiceQty txtInvoiceQty"" + newInvoiceItem.lineNo + ""' data-lineNo='"" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.quantity + ""' /></td><td><input type='text' class='form-control txtInvoiceUnitPrice txtInvoiceUnitPrice"" + newInvoiceItem.lineNo + ""' data-lineNo='");
                WriteLiteral(@""" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.unitPrice + ""' /></td><td><label id='lblLineTotal"" + newInvoiceItem.lineNo + ""' >"" + newInvoiceItem.lineTotal + ""</label></td></tr>"");
                $('.tbodyInvoiceView').append(""<tr><td></td><td>"" + newInvoiceItem.id + ""</td><td>"" + newInvoiceItem.item + ""</td><td>"" + newInvoiceItem.specification + ""</td><td>"" + newInvoiceItem.quantity + ""</td><td>"" + newInvoiceItem.unitPrice + ""</td><td>"" + newInvoiceItem.lineTotal + ""</td></tr>"");
                $('.itemsListAddTask').append(""<li><input type='radio' name='itemsList' value=""+newInvoiceItem.id+"" />""+newInvoiceItem.id+"" - ""+newInvoiceItem.item+"" </li>"");
            });
            calculateInvoiceTotal();
            //printInvoiceModel.items = invoiceItems;
            //setInvoiceDataForPrint(printInvoiceModel);

            
            
        }
        $(""#divInvoice"").on(""click"", "".btnDeleteInvoiceItem"", function(){
            let deletedLineNo = $(this).data('lineno');
       ");
                WriteLiteral(@"     invoiceDeletedItems.push(invoiceItems[deletedLineNo - 1]);
            invoiceItems.splice(deletedLineNo - 1, 1);
            $('.tbodyInvoice').html('');
            invoiceItems.forEach(function (newInvoiceItem) {
                $('.tbodyInvoice').append(""<tr><td><button type='button' class='btn-link text-danger btnDeleteInvoiceItem' data-lineNo='"" + newInvoiceItem.lineNo + ""'>X</button></td><td>"" + newInvoiceItem.lineNo + ""</td><td><input type='text' class='form-control txtInvoiceItem' data-lineNo='""+  newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.item + ""' /></td><td><input type='text' class='form-control txtInvoiceSpec' data-lineNo='""+  newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.specification + ""' /></td><td><input type='text' class='form-control txtInvoiceQty txtInvoiceQty"" + newInvoiceItem.lineNo + ""' data-lineNo='"" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.quantity + ""' /></td><td><input type='text' class='form-control txtInvoiceUnitPrice txtInvoiceUnitPrice"" + ");
                WriteLiteral(@"newInvoiceItem.lineNo + ""' data-lineNo='"" + newInvoiceItem.lineNo + ""' value='"" + newInvoiceItem.unitPrice + ""' /></td><td><label id='lblLineTotal"" + newInvoiceItem.lineNo + ""' >"" + newInvoiceItem.lineTotal + ""</label></td></tr>"");
            });
            calculateInvoiceTotal();
        });
        $(""#divInvoice"").on(""focusout"", "".txtInvoiceQty"", function(){

            let editedLineNo = $(this).data('lineno');
            let qty = $(this).val();
            let price = $('.txtInvoiceUnitPrice' + editedLineNo).val();
            $('#lblLineTotal' + editedLineNo).text(price * qty);
            invoiceItems[editedLineNo - 1].quantity = qty;
            invoiceItems[editedLineNo - 1].lineTotal = price * qty;
            calculateInvoiceTotal();
        });
        $(""#divInvoice"").on(""focusout"", "".txtInvoiceUnitPrice"", function(){

            let editedLineNo = $(this).data('lineno');
            let price = $(this).val();
            let qty = $('.txtInvoiceQty' + editedLineNo).val()");
                WriteLiteral(@";
            $('#lblLineTotal' + editedLineNo).text(price * qty);
            invoiceItems[editedLineNo - 1].unitPrice = price;
            invoiceItems[editedLineNo - 1].lineTotal = price * qty;

            console.log(""editedLineNo: "" +editedLineNo);
            console.log(""price: "" +price);
            console.log(""qty: ""+qty);

            calculateInvoiceTotal();
        });
        $(""#divInvoice"").on(""focusout"", "".txtDiscountPrice"", function(){

            discountPrice = $("".txtDiscountPrice"").val();
            calculateInvoiceTotal();
        });
        $(""#divInvoice"").on(""focusout"", "".txtInvoiceItem"", function(){

            let editedLineNo = $(this).data('lineno');
            let newItemText = $(this).val();
            invoiceItems[editedLineNo - 1].item = newItemText;
        });
        $(""#divInvoice"").on(""focusout"", "".txtInvoiceSpec"", function(){

            let editedLineNo = $(this).data('lineno');
            let newItemSpec = $(this).val();
            ");
                WriteLiteral(@"invoiceItems[editedLineNo - 1].specification = newItemSpec;
        });
        $("".btnYes"").click(function () {
            
            $(""#confirmModal"").fadeOut();
            updateInvoice();
        });
        $("".btnNo"").click(function () {
            
            $(""#confirmModal"").fadeOut();
        });
        $("".btnUpdateInvoice"").click(function () {
            console.log(""calling confirm modal"");
            $(""#confirmModal"").fadeIn();
            console.log(""done calling confirm modal"");
        });
        function updateInvoice() {
                    var updateInvoiceModel = {
                ""items"": invoiceItems,
                ""deletedItems"":invoiceDeletedItems,
                ""discount"": $("".txtDiscountPrice"").val(),
                        ""totalAmount"": $("".invoiceTotal"").html()                        
            };
            console.log(""JSON obj : "" + JSON.stringify(updateInvoiceModel));
            $.ajax({
                type: 'POST',
          ");
                WriteLiteral("      url: \'");
                EndContext();
                BeginContext(66928, 27, false);
#line 1071 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                 Write(Url.Action("UpdateInvoice"));

#line default
#line hidden
                EndContext();
                BeginContext(66955, 623, true);
                WriteLiteral(@"',
                data: JSON.stringify(updateInvoiceModel),
                contentType: ""application/json;""
            })
                .done(function (data) {
                    // show the response
                    if (data) {
                        //printInvoiceModel.items = invoiceItems;
                        //setInvoiceDataForPrint(printInvoiceModel);
                        populateInvoiceItems();
                        $("".updateSuccess"").fadeIn().delay(2000).fadeOut();
                        }
                        location.reload();

                });
        }





");
                EndContext();
                BeginContext(68846, 273, true);
                WriteLiteral(@"
            $("".btnSetCustomerPONumber"").on(""click"", function () {
                $('.reqCustomerPONumber').hide();
                var customerPONumber = $("".txtCustomerPONumber"").val();
                var customerPONumberModel={
                    ""workOrderId"":");
                EndContext();
                BeginContext(69120, 24, false);
#line 1123 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                             Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(69144, 340, true);
                WriteLiteral(@",
                    ""CustomerPONumber"":customerPONumber
                };
                
                if ($.trim(customerPONumber).length === 0) {
                    $('.reqCustomerPONumber').show();
                } else {
                    $.ajax({
                        type: 'POST',
                        url: '");
                EndContext();
                BeginContext(69485, 33, false);
#line 1132 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("SetCustomerPONumber"));

#line default
#line hidden
                EndContext();
                BeginContext(69518, 386, true);
                WriteLiteral(@"',
                        data: JSON.stringify(customerPONumberModel),
                        contentType: ""application/json;""
                    })
                        .done(function (data) {
                            $('.lblInvoiceCustomerPONumber').text(customerPONumber);
                            alert('Customer PO Number updated!');
                        })
");
                EndContext();
                BeginContext(70136, 290, true);
                WriteLiteral(@"                        ;
                }
            });

            //*********************INVOICE***********************************************

            $(""#btnAddCustomerPayment"").on(""click"",function(){
                var newPayment={
                    ""workOrderId"":");
                EndContext();
                BeginContext(70427, 24, false);
#line 1153 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                             Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(70451, 338, true);
                WriteLiteral(@",
                    ""paymentTypeId"":$(""#ddlPaymentOptions"").val(),
                    ""amount"": $(""#txtCustomerPaymentAmount"").val(),
                    ""receiptNumber"":$(""#txtCustomerPaymentReceiptNumber"").val()
                };

                $.ajax({
                        type: 'POST',
                        url: '");
                EndContext();
                BeginContext(70790, 32, false);
#line 1161 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("AddCustomerPayment"));

#line default
#line hidden
                EndContext();
                BeginContext(70822, 862, true);
                WriteLiteral(@"',
                        data: JSON.stringify(newPayment),
                        contentType: ""application/json;""
                    })
                    .done(function(data){
                        $('#tbodyCustomerPayments').append(""<tr><td>""+new Date()+""</td><td>""+$(""#txtCustomerPaymentAmount"").val()+""</td><td>""+$(""#ddlPaymentOptions"").val()+""</td><td>""+$(""#txtCustomerPaymentReceiptNumber"").val()+""</td></tr>"");
                        location.reload();

                    });
            });

            $("".btnDisplayAddTask"").click(function(){
                $("".divAddTask"").show();
            });
            $("".btnCancelAddTask"").click(function(){
                $("".divAddTask"").hide();
            });
            $(""#btnAddTask"").click(function(){
                var newTask={
                    ""workOrderId"":");
                EndContext();
                BeginContext(71685, 24, false);
#line 1180 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                             Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(71709, 379, true);
                WriteLiteral(@",
                    ""employeeId"":$(""#ddlEmployee"").val(),
                    ""description"":$(""#txtDescription"").val(),
                    ""targetDate"": $(""#targetDate"").val(),
                    ""workOrderItemId"":$('input[name=itemsList]:checked').val()
                };
                $.ajax({
                        type: 'POST',
                        url: '");
                EndContext();
                BeginContext(72089, 24, false);
#line 1188 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("CreateTask"));

#line default
#line hidden
                EndContext();
                BeginContext(72113, 1255, true);
                WriteLiteral(@"',
                        data: JSON.stringify(newTask),
                        contentType: ""application/json;"",
                    })
                    .done(function(data){
                        if(data===true){
                        $(""#alertTaskSuccess"").fadeIn(function () {
                            $(this).html(""Task added successfully!"")
                            .fadeOut(3600);
                        });
                        $(""#ddlEmployee"").val(0);
                        $(""#txtDescription"").val('');
                        $(""#targetDate"").val('');
                            $("".divAddTask"").hide();
                            //$('input[name=itemsList]:checked').val('');
                        getTasks();
                        }
                        else alert(""Error creating Task"");

                    })
                    ;

                console.log('New Task: ' + JSON.stringify(newTask));

                //$("".divAddTask"").hide();
      ");
                WriteLiteral("      });\r\n\r\n            $(\"#divTasksList\").on(\"click\", \".btnViewTaskDetails\", function(event){\r\n                var taskId=$(this).data(\"id\");\r\n                $.ajax({\r\n                    type: \'GET\',\r\n                    url: \'");
                EndContext();
                BeginContext(73369, 40, false);
#line 1219 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                     Write(Url.Action("GetTaskDetails","WorkOrder"));

#line default
#line hidden
                EndContext();
                BeginContext(73409, 1216, true);
                WriteLiteral(@"'+'/'+taskId
                })
                .done(function(data){
                    // show the response
                    if(data)
                    {
                        $(""#divTaskDetails"").html(data).fadeIn(4000,'linear');



                        $(""#divTaskDetails"").on(""click"", ""#datetimepicker1"", function(event){
                            $(""#divTaskDetails"").on(""datetimepicker"", ""#datetimepicker1"", function(event){
                                format: 'MM/DD/YYYY hh:mm:ss'
                            });

                        });
                    }
                });
            });
            function isValidDate(dateString)  {

                return moment(dateString,'MM/DD/YYYY hh:mm').isValid();
            };
            $(""#divTaskDetails"").on(""click"", ""#btnUpdateTask"", function(event){



                var taskId=$(this).data(""id"");
                var task={
                    ""id"":taskId,
                    ""statusId"":$(""#ddlTask");
                WriteLiteral("Status\").val(),\r\n                    \"progress\":$(\"#txtTaskProgress\").val()\r\n                };\r\n                $.ajax({\r\n                        type: \'POST\',\r\n                        url: \'");
                EndContext();
                BeginContext(74626, 24, false);
#line 1254 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("UpdateTask"));

#line default
#line hidden
                EndContext();
                BeginContext(74650, 1807, true);
                WriteLiteral(@"',
                        data: JSON.stringify(task),
                        contentType: ""application/json;""
                })
                .done(function(data){
                    // show the response
                    if(data)
                    {
                        $(""#divTaskDetails"").fadeOut('4000','linear');
                        $(""#alertTaskSuccess"").html(""Task updated successfully!"")
                        $(""#alertTaskSuccess"").fadeIn(2000,'linear',function () {
                            $(this).fadeOut(4000,'linear');
                        });
                        getTasks();
                    }
                });
            });



            var currentDateTime = new Date();


            $(""#divTaskDetails"").on(""click"", ""#btnEndTask"", function(event){
                var DD=$(""#DD"").val();
                var MM=$(""#MM"").val();
                var YYYY=$(""#YYYY"").val();
                var hh=$(""#hh"").val();
                var mm=$(""#mm""");
                WriteLiteral(@").val();
                if(DD.length===1)DD=""0""+DD;
                if(MM.length===1)MM=""0""+MM;
                if(hh.length===1)hh=""0""+hh;
                if(mm.length===1)mm=""0""+mm;
                //var completedDate=DD+""/""+MM+""/""+YYYY+"" ""+hh+"":""+mm+"":00"";
                var completedDate = MM + ""/"" + DD + ""/"" + YYYY + "" "" + hh + "":"" + mm + "":00"";

                var dateValid=isValidDate(completedDate);

                if(dateValid)
                {
                    var taskId=$(this).data(""id"");
                    var task={
                        ""taskId"":taskId,
                        ""timestamp"":completedDate
                    };
                    $.ajax({
                            type: 'POST',
                            url: '");
                EndContext();
                BeginContext(76458, 21, false);
#line 1301 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                             Write(Url.Action("EndTask"));

#line default
#line hidden
                EndContext();
                BeginContext(76479, 1401, true);
                WriteLiteral(@"',
                            data: JSON.stringify(task),
                            contentType: ""application/json;""
                    })
                    .done(function(data){
                        // show the response
                        if(data)
                        {
                            $(""#divTaskDetails"").fadeOut('4000','linear');
                            $(""#alertTaskSuccess"").html(""Task updated successfully!"")
                            $(""#alertTaskSuccess"").fadeIn(2000,'linear',function () {
                                $(this).fadeOut(4000,'linear');
                            });
                            getTasks();
                        }
                    });
                }
                else{
                    $(""#alertTaskErrorMessage"").fadeIn(function () {
                            $(this).html(""Invalid Date-Time!"")
                            .fadeOut(3600);
                        });
                }


            }");
                WriteLiteral(@");

            $(""#divTaskDetails"").on(""click"", ""#btnCancelUpdateTask"", function(event){
                $(""#divTaskDetails"").fadeOut(1000,'linear');
            });

            $(""#btnAddMaterialUsage"").on(""click"", function () {
                if ($(""#selectedMaterial"").val()) {

                    var newMaterialUsed = {
                        ""workOrderId"":");
                EndContext();
                BeginContext(77881, 24, false);
#line 1336 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                 Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(77905, 252, true);
                WriteLiteral(",\r\n                        \"materialId\": $(\"#selectedMaterial\").val(),\r\n                        \"units\": $(\"#txtUnits\").val()\r\n                    };\r\n\r\n                    $.ajax({\r\n                        type: \'POST\',\r\n                        url: \'");
                EndContext();
                BeginContext(78158, 29, false);
#line 1343 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("AddMaterialUsed"));

#line default
#line hidden
                EndContext();
                BeginContext(78187, 1057, true);
                WriteLiteral(@"',
                        data: JSON.stringify(newMaterialUsed),
                        contentType: ""application/json;""
                    })
                        .done(function (data) {
                            $('#tbodyMaterialsUse').append(""<tr><td>"" + $(""#selectedMaterialName"").val() + ""</td><td>"" + newMaterialUsed.units + ""</td></tr>"");
                            $(""#txtUnits"").val('');
                            $(""#autocomplete"").val('');
                            $('.tableMaterialsUse').show();
                            $(""#selectedMaterial"").val("""");
                            $(""#selectedMaterialName"").val("""");
                            $(""#divAddMaterialsErrorMessage"").html('');
                        });
                }
                else {
                    $(""#divAddMaterialsErrorMessage"").html('<p class=""alert alert-danger"">Select Material !</p>');
                }

            });

            $(""#btnCreateWorkOrder"").on(""click"",function(){
     ");
                WriteLiteral("           updateWorkOrderStatus(");
                EndContext();
                BeginContext(79245, 39, false);
#line 1364 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                 Write(Convert.ToByte(WorkOrderStatus.Created));

#line default
#line hidden
                EndContext();
                BeginContext(79284, 124, true);
                WriteLiteral(");\r\n            });\r\n\r\n            $(\"#btnCompleteWorkOrder\").on(\"click\",function(){\r\n                updateWorkOrderStatus(");
                EndContext();
                BeginContext(79409, 41, false);
#line 1368 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                 Write(Convert.ToByte(WorkOrderStatus.Completed));

#line default
#line hidden
                EndContext();
                BeginContext(79450, 275, true);
                WriteLiteral(@");
            });

            function updateWorkOrderStatus(statusId)
            {
                var totalTasks=$('.taskRow').length;
                var completedTasks=$('.bg-Completed').length;
                var updateWO={
                    ""WorkOrderId"":");
                EndContext();
                BeginContext(79726, 24, false);
#line 1376 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                             Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(79750, 231, true);
                WriteLiteral(",\r\n                    \"Status\":statusId\r\n                };\r\n\r\n                if(totalTasks===completedTasks)\r\n                {\r\n                    $.ajax({\r\n                        type: \'POST\',\r\n                        url: \'");
                EndContext();
                BeginContext(79982, 26, false);
#line 1384 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                         Write(Url.Action("UpdateStatus"));

#line default
#line hidden
                EndContext();
                BeginContext(80008, 229, true);
                WriteLiteral("\',\r\n                        data: JSON.stringify(updateWO),\r\n                        contentType: \"application/json;\"\r\n                    })\r\n                    .done(function(data){\r\n\r\n                        var redirectUrl=\'");
                EndContext();
                BeginContext(80238, 55, false);
#line 1390 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                    Write(Url.Action("Details",new{id=@Model.WorkOrderDetail.Id}));

#line default
#line hidden
                EndContext();
                BeginContext(80293, 453, true);
                WriteLiteral(@"';
                        window.location=redirectUrl;
                    });
                }
                else{
                    $(""#alertWOErrorMessage"").fadeIn(function () {
                            $(this).html(""All Tasks have to be completed!"")
                            .fadeOut(3600);
                        });
                }
            }

            function getEvents() {
            
            let url = '");
                EndContext();
                BeginContext(80747, 35, false);
#line 1404 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                  Write(Url.Action("GetEvents","WorkOrder"));

#line default
#line hidden
                EndContext();
                BeginContext(80782, 9, true);
                WriteLiteral("\' + \'/\' +");
                EndContext();
                BeginContext(80792, 24, false);
#line 1404 "D:\Projects\BTH-ERP-Latest\ERP.Web\Views\WorkOrder\Details.cshtml"
                                                               Write(Model.WorkOrderDetail.Id);

#line default
#line hidden
                EndContext();
                BeginContext(80816, 744, true);
                WriteLiteral(@";
            console.log('Attempting to get events! '+url);
            $.ajax({
                    type: 'GET',
                    url: url
                })
                .done(function (data) {
                    // show the response
                    console.log('events data'+JSON.stringify(data));
                    $.each(data, function (index, value) {
                            console.log('Events: ' + JSON.stringify(value));
                            $('.tbodyEvents').append(""<tr><td>"" + value.eventType + ""</td><td>"" + value.timestamp +  ""</td><td>"" + value.addedBy + ""</td></tr>"");
                            
                        });
                });
        }

        });
    </script>
");
                EndContext();
            }
            );
            BeginContext(81563, 2, true);
            WriteLiteral("\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WorkOrderVM> Html { get; private set; }
    }
}
#pragma warning restore 1591
